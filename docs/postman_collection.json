{
  "info": {
    "name": "ecombackend API",
    "description": "Postman collection for ecombackend. Set {{baseUrl}} and {{token}} (Bearer).",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:4001" },
    { "key": "token", "value": "" },
    { "key": "uuid", "value": "" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        { "name": "Register", "request": { "method": "POST", "header": [ {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/auth/register", "body": { "mode": "raw", "raw": "{\n  \"name\": \"Admin\",\n  \"email\": \"admin@example.com\",\n  \"password\": \"ChangeMe123!\"\n}" } } },
        { "name": "Login", "request": { "method": "POST", "header": [ {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/auth/login", "body": { "mode": "raw", "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"ChangeMe123!\"\n}" } } },
        { "name": "Me", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/auth/me" } },
        { "name": "Refresh", "request": { "method": "POST", "header": [ {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/auth/refresh", "body": { "mode": "raw", "raw": "{\n  \"refreshToken\": \"<paste>\"\n}" } } }
      ]
    },
    {
      "name": "Addresses",
      "item": [
        { "name": "List", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/addresses" } },
        { "name": "Create", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/addresses", "body": { "mode": "raw", "raw": "{\n  \"type\": \"shipping\",\n  \"fullName\": \"John Doe\",\n  \"line1\": \"123 Main St\",\n  \"city\": \"NYC\",\n  \"country\": \"US\",\n  \"isDefault\": true\n}" } } }
      ]
    },
    {
      "name": "Products",
      "item": [
        { "name": "List", "request": { "method": "GET", "url": "{{baseUrl}}/api/products" } },
        { "name": "Create (admin)", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/products", "body": { "mode": "raw", "raw": "{\n  \"name\": \"T-Shirt\",\n  \"price\": 19.99,\n  \"currency\": \"USD\",\n  \"brand\": \"Acme\",\n  \"attributes\": { \"material\": \"cotton\" },\n  \"category\": \"<categoryId>\"\n}" } } }
      ]
    },
    {
      "name": "Categories",
      "item": [
        { "name": "List", "request": { "method": "GET", "url": "{{baseUrl}}/api/categories" } },
        { "name": "Create (admin)", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/categories", "body": { "mode": "raw", "raw": "{\n  \"name\": \"Shirts\",\n  \"slug\": \"shirts\"\n}" } } }
      ]
    },
    {
      "name": "Cart",
      "item": [
        { "name": "Get Cart", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/cart" } },
        { "name": "Add Item", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/cart/items", "body": { "mode": "raw", "raw": "{\n  \"productId\": \"<productId>\",\n  \"quantity\": 1\n}" } } },
        { "name": "Add Item (variant)", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/cart/items", "body": { "mode": "raw", "raw": "{\n  \"productId\": \"<productId>\",\n  \"variantId\": \"<variantId>\",\n  \"quantity\": 1\n}" } } },
        { "name": "Apply Coupon", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/cart/coupon", "body": { "mode": "raw", "raw": "{\n  \"code\": \"SAVE10\"\n}" } } }
      ]
    },
    {
      "name": "Orders",
      "item": [
        { "name": "Create", "request": { "method": "POST", "header": [ {"key":"Idempotency-Key","value":"{{uuid}}"}, {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/orders", "body": { "mode": "raw", "raw": "{\n  \"shipping\": 0,\n  \"taxRate\": 0\n}" } } },
        { "name": "List", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/orders" } },
        { "name": "Request Return", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/orders/<orderId>/returns", "body": { "mode": "raw", "raw": "{\n  \"reason\": \"Not needed\"\n}" } } }
      ]
    },
    {
      "name": "Admin",
      "item": [
        { "name": "Metrics", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/metrics" } },
        { "name": "List Users", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/users" } },
        { "name": "Sales Report", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/reports/sales" } },
        { "name": "Create Coupon", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/admin/coupons", "body": { "mode": "raw", "raw": "{\n  \"code\": \"SAVE10\",\n  \"type\": \"percent\",\n  \"value\": 10\n}" } } },
        { "name": "List Returns", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/returns" } },
        { "name": "Approve Return", "request": { "method": "POST", "header": [ {"key":"Idempotency-Key","value":"{{uuid}}"}, {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/returns/<returnId>/approve" } },
        { "name": "Reject Return", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/returns/<returnId>/reject" } },
        { "name": "Admin Categories List", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/categories" } },
        { "name": "Admin Create Category", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/admin/categories", "body": { "mode": "raw", "raw": "{\n  \"name\": \"Shirts\",\n  \"slug\": \"shirts\"\n}" } } },
        { "name": "Admin Reorder Categories", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/admin/categories/<id>/reorder", "body": { "mode": "raw", "raw": "{\n  \"ids\": [\"<childId1>\", \"<childId2>\"]\n}" } } },
        { "name": "List Transactions", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/transactions" } },
        { "name": "List Refunds", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/refunds" } },
        { "name": "Create Shipment", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/admin/orders/<orderId>/shipments", "body": { "mode": "raw", "raw": "{\n  \"carrier\": \"UPS\",\n  \"tracking\": \"1Z...\"\n}" } } },
        { "name": "List Shipments", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/shipments" } }
      ]
    },
    {
      "name": "Payments",
      "item": [
        { "name": "Stripe Intent", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/payments/stripe/intent", "body": { "mode": "raw", "raw": "{\n  \"orderId\": \"<orderId>\"\n}" } } }
      ]
    },
    {
      "name": "Uploads",
      "item": [
        { "name": "Upload Image (admin)", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/uploads", "body": { "mode": "formdata", "formdata": [ { "key": "file", "type": "file", "src": [] } ] } } }
      ]
    },
    {
      "name": "Brands (Admin)",
      "item": [
        { "name": "List Brands", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/brands" } },
        { "name": "Create Brand", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/admin/brands", "body": { "mode": "raw", "raw": "{\n  \"name\": \"Acme\"\n}" } } },
        { "name": "Get Brand", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/brands/<id>" } },
        { "name": "Update Brand", "request": { "method": "PUT", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/admin/brands/<id>", "body": { "mode": "raw", "raw": "{\n  \"name\": \"Acme Updated\"\n}" } } },
        { "name": "Delete Brand", "request": { "method": "DELETE", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/brands/<id>" } },
        { "name": "Brand References", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/brands/<id>/references" } }
      ]
    },
    {
      "name": "Products (Admin)",
      "item": [
        { "name": "Product References", "request": { "method": "GET", "header": [ {"key":"Authorization","value":"Bearer {{token}}"} ], "url": "{{baseUrl}}/api/admin/products/<id>/references" } }
      ]
    },
    {
      "name": "Cart Extras",
      "item": [
        { "name": "Estimate", "request": { "method": "POST", "header": [ {"key":"Authorization","value":"Bearer {{token}}"}, {"key":"Content-Type","value":"application/json"} ], "url": "{{baseUrl}}/api/cart/estimate", "body": { "mode": "raw", "raw": "{\n  \"taxRate\": 0.15\n}" } } }
      ]
    }
  ]
}
