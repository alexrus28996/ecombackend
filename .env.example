NODE_ENV=development
APP_NAME=ecombackend
PORT=4000
# Mongo connection
# Option A: include DB in URI
# MONGO_URI=mongodb://localhost:27017/ecombackend
# Option B: server-only URI + DB_NAME
MONGO_URI=mongodb://localhost:27017/
DB_NAME=backend

# JWT
JWT_SECRET=replace_me_with_long_random_string
JWT_EXPIRES_IN=7d

# CORS
CORS_ORIGIN=http://localhost:4200,http://localhost:3000

# Logs and limits
LOG_LEVEL=info
# Optional: log file path (leave empty for stdout)
LOG_FILE=
# Enable rotating log files (daily by default)
LOG_ROTATE_ENABLED=false
LOG_ROTATE_INTERVAL=1d
# Rotate by size (optional, e.g., 10M). Leave empty to disable size-based.
LOG_ROTATE_SIZE=
# Keep up to N rotated files
LOG_ROTATE_MAX_FILES=7
# DB command logging / metrics
# Log all DB commands (verbose). Recommended: false in production.
DB_LOG_COMMANDS=false
# Log queries slower than this many milliseconds (0 disables threshold)
DB_SLOW_MS=50
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=200
AUTH_RATE_LIMIT_WINDOW_MS=60000
AUTH_RATE_LIMIT_MAX=20
MAX_LOGIN_ATTEMPTS=5
LOCK_TIME_MS=900000
UPLOADS_RATE_LIMIT_WINDOW_MS=300000
UPLOADS_RATE_LIMIT_MAX=50
PAYMENTS_RATE_LIMIT_WINDOW_MS=300000
PAYMENTS_RATE_LIMIT_MAX=50
TRUST_PROXY=true

# API
API_PREFIX=/api
JSON_BODY_LIMIT=1mb
HEALTH_PATH=/health
DEFAULT_CURRENCY=USD
API_DEFAULT_PAGE_SIZE=20
API_MAX_PAGE_SIZE=100
DOCS_PATH=/docs

# Payments (Stripe)
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Pricing
# TAX_DEFAULT_RATE=0.07
# SHIPPING_FLAT_RATE=5
# SHIPPING_FREE_LIMIT=50

# Inventory alerts
# LOW_STOCK_THRESHOLD=5
# ALERT_EMAIL=alerts@example.com

# Cloudinary (optional)
# CLOUDINARY_CLOUD_NAME=demo
# CLOUDINARY_API_KEY=xxxx
# CLOUDINARY_API_SECRET=yyyy
# CLOUDINARY_FOLDER=ecombackend

# CSP (Content Security Policy)
# Enable CSP in production (recommended): set to true to activate
# CSP_ENABLED=false
# Allow extra sources (comma-separated). Defaults already include 'self', https, data for images.
# CSP_IMG_SRC=https://res.cloudinary.com
# CSP_SCRIPT_SRC=
# CSP_STYLE_SRC=
# CSP_CONNECT_SRC=

